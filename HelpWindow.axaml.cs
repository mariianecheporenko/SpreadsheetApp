using Avalonia.Controls;
using Avalonia.Markup.Xaml;

namespace SpreadsheetApp
{
    public partial class HelpWindow : Window
    {
        public HelpWindow()
        {
            InitializeComponent();
#if DEBUG
            // this.AttachDevTools();
#endif
            var tb = this.FindControl<TextBox>("HelpTextBox");
            if (tb != null)
                tb.Text = HelpContent;
        }

        private void InitializeComponent() => AvaloniaXamlLoader.Load(this);

        private const string HelpContent = @"
ДОВІДКА — ТАБЛИЧНИЙ РЕДАКТОР
==============================

Призначення
-----------
Програма дозволяє вводити, редагувати й обчислювати вирази в клітинках електронної таблиці.
Є два режими: 
- **Вираз** — показує те, що введено.
- **Значення** — показує результат обчислення.

Основні дії
-----------
- Вкажіть кількість рядків і стовпців → натисніть «Змінити розмір».
- У клітинках вводьте вирази або числа.
- Натисніть «Показати значення» — щоб побачити результати.
- «Зберегти...» / «Завантажити...» — робота з файлами JSON.
- «Довідка» — це вікно з короткою інструкцією.

Як вводити вирази
-----------------
Підтримуються:
- числа (наприклад `5`, `12`);
- посилання на клітинки: `A1`, `B2`, `AA10` (можна вводити і малими літерами);
- арифметичні операції: `+`, `-`, `*`, `/`, `^`;
- порівняння: `=`, `<`, `>`, `<=`, `>=`;
- логічні: `not`, `and`, `or`;
- функції: `mmax(x1,x2,...)`, `mmin(x1,x2,...)`.

Приклади
---------
1) `=5+3` або `5+3` → 8  
2) `A1 + B1 * 2` → арифметика  
3) `C1 = 10` → true / false  
4) `mmax(A1,B1,5)` → максимум  
5) `not (A1 > B1)` → логічне заперечення

Типові помилки
---------------
- **Синтаксична помилка** — некоректний вираз, неправильні дужки.
- **Циклічне посилання** — клітинки посилаються одна на одну.
- **Ділення на нуль** — відображається як #ERR.

";
    }
}
